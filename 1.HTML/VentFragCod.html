<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ventana Fragmento3 código</title>
  <style>
    #code-window {
      width: 50%;
      height: 500px;
      background-color: #f5f5f5;
      margin: 20px auto;
    }

    #code-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #333;
      color: #fff;
      padding: 0 0 0 15px;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
    }

    #code-input {
      width: 100%;
      height: calc(100% - 50px);
      padding: 20px;
      overflow: auto;
      border-radius: 10px;
    }

    /*Para justificar el código con respecto al tamaño de la ventana, puede agregar el estilo <code>white-space: pre-wrap</code> 
        al elemento <code>pre</code> que contiene el fragmento de código. Esto forzará a que el código se muestre con los saltos de 
        línea y los espacios en blanco originales y se ajuste al ancho de la ventana. Aquí está el código necesario para hacerlo:*/

    #code-input {
      white-space: pre-wrap;
    }

    /* Para ajustar el texto del fragmento a la parte izquierda de la ventana, puede agregar el estilo <code>text-align: left</code> 
        al elemento <code>pre</code> que contiene el fragmento de código. Aquí está el código necesario para hacerlo:*/

    #code-input {
      text-align: left;
    }

    #copy-btn {
      background-color: #333;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }

    #copy-btn {
      display: flex;
      align-items: center;
    }

    #copy-btn svg {
      margin-right: 10px;
    }
  </style>
  <!--Librerías Prism:-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/prism.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/themes/prism.min.css" rel="stylesheet" />

</head>

<body>
  <!--INICIO Código para ventana fragmento con copy-->
  <div id="code-window">
    <div id="code-header">
      <span>Code CSS</span>
      <button id="copy-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path fill="none" d="M0 0h24v24H0z" />
          <path
            d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" />
        </svg>
        <span>Copy Code</span>
      </button>
    </div>
    <pre><code id="code-input" class="language-html">

          <textarea>
            Aquí empieza---------------------------
            <!DOCTYPE html>
            <html lang="en">
            <head>
              <meta charset="UTF-8">
              <meta http-equiv="X-UA-Compatible" content="IE=edge">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <title>Document</title>
            </head>
            <body>
              
            </body>
            </html>
            Aquí termina----------------------------------
          </textarea>
        </code></pre>
  </div>
  <!--FIN Código para ventana fragmento con copy-->
  <script>
    // Este código JavaScript sirve para copiar el contenido de un elemento HTML a través del uso de un botón.
    //La primera línea de código asigna a la variable "copyBtn" el botón que tiene el id "copy-btn" en el documento HTML.
    const copyBtn = document.getElementById("copy-btn");
    //La segunda línea de código asigna a la variable "codeInput" el elemento que tiene el id "code-input".
    const codeInput = document.getElementById("code-input");
    //La tercera línea de código asigna a la variable "codeWindow" el elemento que tiene el id "code-window".
    const codeWindow = document.getElementById("code-window");
    //Luego, se agrega un event listener al botón "copyBtn" que escucha el evento "click". 
    //Cuando se hace clic en el botón, se ejecuta una función que asigna a la variable "codeInputValue" el 
    //contenido del elemento "codeInput" utilizando la propiedad "innerText".
    //Finalmente, se utiliza el objeto "navigator.clipboard" para copiar el contenido de "codeInputValue" 
    //al portapapeles del usuario mediante el método "writeText()".
    copyBtn.addEventListener("click", () => {
      const codeInputValue = codeInput.innerText;
      navigator.clipboard.writeText(codeInputValue);
    });

    // Función para ajustar la altura de la ventana de código a la altura de la entrada de código
    function adjustCodeWindowHeight() {
      codeWindow.style.height = `${codeInput.offsetHeight + 50}px`;
    }
    // Llamar a la función en carga y en cualquier cambio en la entrada de código
    window.addEventListener("load", adjustCodeWindowHeight);
    codeInput.addEventListener("input", adjustCodeWindowHeight);
  </script>
</body>

</html>